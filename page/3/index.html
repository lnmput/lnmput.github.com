<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon.ico">
  <link rel="mask-icon" href="/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"swoole.app","root":"/","images":"/images","scheme":"Gemini","version":"8.7.1","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"ÊêúÁ¥¢...","empty":"Ê≤°ÊúâÊâæÂà∞‰ªª‰ΩïÊêúÁ¥¢ÁªìÊûúÔºö${query}","hits_time":"ÊâæÂà∞ ${hits} ‰∏™ÊêúÁ¥¢ÁªìÊûúÔºàÁî®Êó∂ ${time} ÊØ´ÁßíÔºâ","hits":"ÊâæÂà∞ ${hits} ‰∏™ÊêúÁ¥¢ÁªìÊûú"}}</script><script src="/js/config.js"></script>
<meta name="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
<meta property="og:type" content="website">
<meta property="og:title" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
<meta property="og:url" content="https://swoole.app/page/3/index.html">
<meta property="og:site_name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
<meta property="og:description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="lnmput@gmail.com">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://swoole.app/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">ÂçÅÂπ¥Â§ñË¥∏Âª∫Á´ôÁªèÈ™åÔºå‰∏ìÊ≥®Â§ñË¥∏Áã¨Á´ãÁ´ôÂª∫ËÆæ</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-È¶ñÈ°µ"><a href="/" rel="section">È¶ñÈ°µ</a></li>
        <li class="menu-item menu-item-Ê†áÁ≠æ"><a href="/tags" rel="section">Ê†áÁ≠æ</a></li>
        <li class="menu-item menu-item-ËØª‰π¶"><a href="/read" rel="section">ËØª‰π¶</a></li>
        <li class="menu-item menu-item-ÁøªËØë"><a href="/tags/translate" rel="section">ÁøªËØë</a></li>
        <li class="menu-item menu-item-ÂÖ≥‰∫éÊàë"><a href="/about" rel="section">ÂÖ≥‰∫éÊàë</a></li>
        <li class="menu-item menu-item-Â§ñË¥∏Á´ô"><a href="/site" rel="section">Â§ñË¥∏Á´ô</a></li>
  </ul>
</nav>




</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="lnmput@gmail.com"
      src="/images/avatar.png">
  <p class="site-author-name" itemprop="name">lnmput@gmail.com</p>
  <div class="site-description" itemprop="description">Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">394</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">134</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="http://www.laruence.com/" title="È£éÈõ™‰πãÈöÖ ‚Üí http:&#x2F;&#x2F;www.laruence.com&#x2F;" rel="noopener" target="_blank">È£éÈõ™‰πãÈöÖ</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://tech.youzan.com/" title="ÊúâËµûÊäÄÊúØÂõ¢Èòü ‚Üí http:&#x2F;&#x2F;tech.youzan.com&#x2F;" rel="noopener" target="_blank">ÊúâËµûÊäÄÊúØÂõ¢Èòü</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://tech.meituan.com/archives" title="ÁæéÂõ¢ÁÇπËØÑÊäÄÊúØÂõ¢Èòü ‚Üí https:&#x2F;&#x2F;tech.meituan.com&#x2F;archives" rel="noopener" target="_blank">ÁæéÂõ¢ÁÇπËØÑÊäÄÊúØÂõ¢Èòü</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://macshuo.com/" title="ÈªûÁáàÂùä ‚Üí http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">ÈªûÁáàÂùä</a>
      </span>
      <span class="links-of-author-item">
        <a href="http://blog.turn.tw/" title="ËΩâÂÄãÂΩéÊó•Ë™å ‚Üí http:&#x2F;&#x2F;blog.turn.tw&#x2F;" rel="noopener" target="_blank">ËΩâÂÄãÂΩéÊó•Ë™å</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="ËøîÂõûÈ°∂ÈÉ®">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/lnmput" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2021/09/10/golang%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/09/10/golang%E7%94%9F%E6%88%90%E9%9A%8F%E6%9C%BA%E6%95%B0/" class="post-title-link" itemprop="url">golangÁîüÊàêÈöèÊú∫Êï∞</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
      

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-09-10 13:31:34 / ‰øÆÊîπÊó∂Èó¥Ôºö13:56:05" itemprop="dateCreated datePublished" datetime="2021-09-10T13:31:34+09:00">2021-09-10</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
‰∫∫‰∏∫‰ªÄ‰πàÂÆ≥ÊÄïÁã¨Â§ÑÂë¢Ôºü

<p>Âõ†‰∏∫‰∫∫Âú®Áã¨Â§ÑÁöÑÊó∂ÂÄôÔºåÊÄªÊòØ‰ºöÂê¨Âà∞ÂøÉÈáåÊ∑±Â§ÑÁöÑÂ£∞Èü≥ÔºåËøô‰∏™ÂøÉÁÅµÊ∑±Â§ÑÁöÑÂ£∞Èü≥‰ºö‰∏çÊñ≠ÈÄºÈóÆ‰Ω†Ôºå‰Ω†Ëøô‰∏ÄÁîüÂà∞Â∫ïÊÉ≥Âπ≤ÂòõÔºü</p>
</blockquote>

<h3 id="Pseudorandom-numbers"><a href="#Pseudorandom-numbers" class="headerlink" title="Pseudorandom numbers"></a>Pseudorandom numbers</h3><p>The <code>math/rand</code> package provided by the Go Standard Library gives us pseudo-random number generators (PRNG), also called deterministic random bit generators.</p>
<p>As with all pseudo number generators, any number generated through <code>math/rand</code> is not really random by default, as being deterministic it will always print the same value each time.</p>
<p>As an example, try running this code which introduces <code>rand.Intn(n)</code>, which returns a random number between <code>0</code> and <code>n - 1</code>.</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>You‚Äôll always see the same sequence every time you run the program. The random number changes inside the program, but every time you run it, you‚Äôll get the same output:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">11</span></span><br><span class="line"><span class="number">27</span></span><br><span class="line"><span class="number">17</span></span><br><span class="line"><span class="number">29</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>This is because by default the seed is always the same, the number 1. To actually get a random number, you need to provide a unique seed for your program. You really want to not forget seeding, and instead properly seed our pseudonumber generator. How?</p>
<p>Use <code>rand.Seed()</code> before calling any <code>math/rand</code> method, passing an <code>int64</code> value. You just need to seed once in your program, not every time you need a random number. The most used seed is the current time, converted to <code>int64</code> by UnixNano with <code>rand.Seed(time.Now().UnixNano())</code>:</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">    fmt.Println(rand.Intn(<span class="number">30</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Remember that due to its sandboxing, the Go Playground always begins with the same time, so this code won‚Äôt work as expected. Try it on a real environment, and the numbers that previosly didn‚Äôt change, they will now print differently each time you run the program.</p>
<p>Some common examples are listed below for ease of reuse:</p>
<h3 id="Generate-a-random-integer"><a href="#Generate-a-random-integer" class="headerlink" title="Generate a random integer"></a>Generate a random integer</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns an int &gt;= min, &lt; max</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randomInt</span><span class="params">(min, max <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> min + rand.Intn(max-min)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    fmt.Println(randomInt(<span class="number">1</span>, <span class="number">11</span>)) <span class="comment">//get an int in the 1...10 range</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Generate-a-random-string"><a href="#Generate-a-random-string" class="headerlink" title="Generate a random string"></a>Generate a random string</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Returns an int &gt;= min, &lt; max</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randomInt</span><span class="params">(min, max <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> min + rand.Intn(max-min)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate a random string of A-Z chars with len = l</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randomString</span><span class="params">(<span class="built_in">len</span> <span class="keyword">int</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    bytes := <span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="built_in">len</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>; i++ &#123;</span><br><span class="line">        bytes[i] = <span class="keyword">byte</span>(randomInt(<span class="number">65</span>, <span class="number">90</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">string</span>(bytes)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    fmt.Println(randomString(<span class="number">10</span>)) <span class="comment">// print 10 chars</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Will return 10 chars in uppercase format. Change</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bytes[i] = <span class="keyword">byte</span>(randomInt(<span class="number">65</span>, <span class="number">90</span>))</span><br></pre></td></tr></table></figure>
<p>to</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bytes[i] = <span class="keyword">byte</span>(randomInt(<span class="number">97</span>, <span class="number">122</span>))</span><br></pre></td></tr></table></figure>
<p>for just lowercase.</p>
<p>If you instead want to have a pool of specific chars to pick from, use</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> pool = <span class="string">&quot;_:$%&amp;/()&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Generate a random string of A-Z chars with len = l</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randomString</span><span class="params">(l <span class="keyword">int</span>)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    bytes := <span class="built_in">make</span>([]<span class="keyword">byte</span>, l)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; l; i++ &#123;</span><br><span class="line">        bytes[i] = pool[rand.Intn(<span class="built_in">len</span>(pool))]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">string</span>(bytes)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    fmt.Println(randomString(<span class="number">1000</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Change len(pool) to utf8.RuneCountInString(pool) if you use non-ascii strings, as len() counts the bytes, but not all chars take just one byte in Unicode - see <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/12668681/how-to-get-the-number-of-characters-in-a-string">https://stackoverflow.com/questions/12668681/how-to-get-the-number-of-characters-in-a-string</a>.</p>
<h3 id="Generate-a-random-array-of-integers"><a href="#Generate-a-random-array-of-integers" class="headerlink" title="Generate a random array of integers"></a>Generate a random array of integers</h3><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">    <span class="string">&quot;math/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;time&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">randomArray</span><span class="params">(<span class="built_in">len</span> <span class="keyword">int</span>)</span> []<span class="title">int</span></span> &#123;</span><br><span class="line">    a := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="built_in">len</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt;= <span class="built_in">len</span><span class="number">-1</span>; i++ &#123;</span><br><span class="line">        a[i] = rand.Intn(<span class="built_in">len</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    rand.Seed(time.Now().UnixNano())</span><br><span class="line">    fmt.Println(randomArray(<span class="number">10</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Crypto-level-random-numbers"><a href="#Crypto-level-random-numbers" class="headerlink" title="Crypto-level random numbers"></a>Crypto-level random numbers</h3><p>Go also provides a Cryptographically secure pseudorandom number generator (CSPRNG) in the standard library package crypto.rand</p>
<p>So you might question, why should I even use the pseudo-number random generator library provided by <code>math/rand</code> instead? Well, it depends on the use case. <code>math/rand</code> is much faster for applications that don‚Äôt need crypto-level or security-related random data generation. crypto.rand is suited for secure and crypto-ready usage, but it‚Äôs slower.</p>
<p>What it should be used for? For example, generating passwords, CSRF tokens, session keys, or anything remotely related to security.</p>
<p>It does not rely on the current time, like we did in the previous examples in math/rand, but instead it uses the operating system CSPRNG APIs: the CryptGenRandom API on Windows, and <code>/dev/urandom/</code> on all the others (<code>Linux, OSX, *nix</code>)</p>
<p>You get 256 random bytes directly with</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;crypto/rand&quot;</span></span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    key := [<span class="number">256</span>]<span class="keyword">byte</span>&#123;&#125;</span><br><span class="line">    _, err := rand.Read(key[:])</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Println(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>I‚Äôm taking a code sample from Matt Silverlock: you can make it more general and create a random bytes generation function</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GenerateRandomBytes returns securely generated random bytes.</span></span><br><span class="line"><span class="comment">// It will return an error if the system&#x27;s secure random</span></span><br><span class="line"><span class="comment">// number generator fails to function correctly, in which</span></span><br><span class="line"><span class="comment">// case the caller should not continue.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GenerateRandomBytes</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="params">([]<span class="keyword">byte</span>, error)</span></span> &#123;</span><br><span class="line">    b := <span class="built_in">make</span>([]<span class="keyword">byte</span>, n)</span><br><span class="line">    _, err := rand.Read(b)</span><br><span class="line">    <span class="comment">// Note that err == nil only if we read len(b) bytes.</span></span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span>, err</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> b, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>and using this, a random string generation function,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// GenerateRandomString returns a URL-safe, base64 encoded</span></span><br><span class="line"><span class="comment">// securely generated random string.</span></span><br><span class="line"><span class="comment">// It will return an error if the system&#x27;s secure random</span></span><br><span class="line"><span class="comment">// number generator fails to function correctly, in which</span></span><br><span class="line"><span class="comment">// case the caller should not continue.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">GenerateRandomString</span><span class="params">(s <span class="keyword">int</span>)</span> <span class="params">(<span class="keyword">string</span>, error)</span></span> &#123;</span><br><span class="line">    b, err := GenerateRandomBytes(s)</span><br><span class="line">    <span class="keyword">return</span> base64.URLEncoding.EncodeToString(b), err</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://flaviocopes.com/go-random/">https://flaviocopes.com/go-random/</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2021/08/02/%E7%BD%91%E7%AB%99%E9%BB%91%E6%9A%97%E6%A8%A1%E5%BC%8F%E8%AE%BE%E8%AE%A1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/08/02/%E7%BD%91%E7%AB%99%E9%BB%91%E6%9A%97%E6%A8%A1%E5%BC%8F%E8%AE%BE%E8%AE%A1/" class="post-title-link" itemprop="url">ÁΩëÁ´ôÈªëÊöóÊ®°ÂºèËÆæËÆ°</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
      

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-08-02 18:56:37 / ‰øÆÊîπÊó∂Èó¥Ôºö19:02:11" itemprop="dateCreated datePublished" datetime="2021-08-02T18:56:37+09:00">2021-08-02</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
Ê≤°ÊúâÊó∂Èó¥Â≠¶‰π†ÁöÑ‰∫∫ÔºåÊòØÊúâ‰∫ÜÊó∂Èó¥‰πü‰∏ç‰ºöÂ≠¶‰π†ÁöÑ‰∫∫ÔºÅ
</blockquote>

<h3 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>CodePen - üåú/üåû Mode<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;./style.css&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- partial:index.partial.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;sun&quot;</span> <span class="attr">src</span>=<span class="string">&quot;data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPgo8cGF0aCBzdHlsZT0iZmlsbDojRkZBNjAwOyIgZD0iTTUwNy44MzQsMzAxLjYwOGwtNTQuNzY5LTQ4LjMxMmw1Mi44MzItNTAuMzk5YzEuOTQxLTEuODUyLDIuNzQtNC41OTEsMi4wOTktNy4xODkgIGMtMC42NDItMi41OTctMi42MjktNC42NTUtNS4yMTEtNS40MDFsLTcwLjMxNi0yMC4yOTJsMjUuOTg4LTY4LjA1NmMwLjk1NS0yLjUsMC40OTUtNS4zMTYtMS4yMDQtNy4zODkgIGMtMS43LTIuMDcyLTQuMzgzLTMuMDg1LTcuMDM4LTIuNjU3bC03Mi4yNzQsMTEuNjUybC01Ljg3OC03Mi41NjFjLTAuMjE2LTIuNjY2LTEuODQ2LTUuMDE1LTQuMjc1LTYuMTYxICBjLTIuNDI5LTEuMTQ2LTUuMjkxLTAuOTE3LTcuNTA0LDAuNjAxbC02MC4yNjYsNDEuMzQyTDI2My40MDksMy43NDJDMjYyLjA2NCwxLjQyNiwyNTkuNTc5LDAsMjU2Ljg4OSwwICBjLTIuNjksMC01LjE3NCwxLjQyNi02LjUxOSwzLjc0MkwyMDguMzQ3LDc2LjExbC03Mi42OS00MS45NTNjLTIuMzI3LTEuMzQzLTUuMTk3LTEuMzQ5LTcuNTI4LTAuMDE4ICBjLTIuMzMzLDEuMzMxLTMuNzczLDMuNzk5LTMuNzgsNi40NzNsLTAuMTc2LDcyLjc5NWwtNzIuOTY1LTYuMDE0Yy0yLjY3NS0wLjIyLTUuMjc1LDAuOTk3LTYuODA3LDMuMTk0ICBjLTEuNTMzLDIuMTk3LTEuNzcxLDUuMDQxLTAuNjIyLDcuNDU5bDMxLjI0Miw2NS44MzVMNi41MDgsMjA5LjU2MmMtMi41MTYsMC45NDMtNC4zMzUsMy4xNS00Ljc3Myw1Ljc4OSAgYy0wLjQzOCwyLjYzOCwwLjU3NSw1LjMwOCwyLjY1Niw3LjAwM2w1Ni42MTksNDYuMTUybC01MC44MTMsNTIuNDFjLTEuODY2LDEuOTI1LTIuNTU5LDQuNjk0LTEuODE2LDcuMjY0ICBjMC43NDQsMi41NywyLjgxLDQuNTUsNS40MTksNS4xOTRsNzEuMDU1LDE3LjU1MUw2MS41Niw0MTkuOTM2Yy0wLjg1NiwyLjUzNS0wLjI4Niw1LjMzMSwxLjQ5NCw3LjMzNiAgYzEuNzgxLDIuMDA1LDQuNTAyLDIuOTEzLDcuMTM3LDIuMzgybDcxLjc2LTE0LjQ0M2w4LjcyMSw3Mi4yNzhjMC4zMTksMi42NTUsMi4wNDEsNC45MzgsNC41MTMsNS45OSAgYzIuNDc0LDEuMDUyLDUuMzIzLDAuNzEyLDcuNDc1LTAuODkxbDU4LjU5Ni00My42NDdsMzkuMDU1LDU5LjU2NmMxLjM4MiwyLjE3OSwzLjc4OSwzLjQ5Miw2LjM2NywzLjQ5MiAgYzAuMDk4LDAsMC4xOTYtMC4wMDIsMC4yOTUtMC4wMDZjMi42ODctMC4xMDQsNS4xMTUtMS42MjYsNi4zNjgtMy45OTJsMzQuMTA3LTYyLjQwNWw2MS44MzksMzguOTc0ICBjMi4yNzMsMS40MzIsNS4xMzcsMS41NSw3LjUyMiwwLjMxYzIuMzgyLTEuMjQsMy45MTktMy42NSw0LjAzLTYuMzIybDMuMDMxLTcyLjczNGw3Mi42NzQsOC44NGMyLjY2NCwwLjMyNCw1LjMxLTAuNzkxLDYuOTI4LTIuOTI3ICBjMS42MTgtMi4xMzcsMS45NjYtNC45NjksMC45MTQtNy40M2wtMjguNjM2LTY2Ljk5N2w2OS40NjUtMjMuMDAzYzIuNTUyLTAuODQ1LDQuNDU2LTIuOTc5LDQuOTk3LTUuNTk5ICBDNTEwLjc1MiwzMDYuMDksNTA5Ljg0NSwzMDMuMzgzLDUwNy44MzQsMzAxLjYwOHoiLz4KPGVsbGlwc2Ugc3R5bGU9ImZpbGw6I0ZGREIyRDsiIGN4PSIyNTQuMzUiIGN5PSIyNTQuNjkxIiByeD0iMTU1LjA2OSIgcnk9IjE1NC45NDkiLz4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGQ0EwMDsiIGQ9Ik0yNTQuMzU0LDk5Ljc0M2MtMy44ODQsMC03LjczMiwwLjE0Ny0xMS41NDMsMC40MjhjODAuMjUsNS45MDEsMTQzLjUyNSw3Mi44MjUsMTQzLjUyNSwxNTQuNTIxICBjMCw4MS42OTUtNjMuMjc1LDE0OC42MTktMTQzLjUyNSwxNTQuNTIxYzMuODExLDAuMjgsNy42NiwwLjQyOCwxMS41NDMsMC40MjhjODUuNjQxLDAsMTU1LjA2OC02OS4zNzMsMTU1LjA2OC0xNTQuOTQ4ICBDNDA5LjQyMiwxNjkuMTE2LDMzOS45OTUsOTkuNzQzLDI1NC4zNTQsOTkuNzQzeiIvPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8Zz4KPC9nPgo8L3N2Zz4K&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;moon hide&quot;</span> <span class="attr">src</span>=<span class="string">&quot;data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ5OS43MTIgNDk5LjcxMiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDk5LjcxMiA0OTkuNzEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij4KPHBhdGggc3R5bGU9ImZpbGw6I0ZGRDkzQjsiIGQ9Ik0xNDYuODgsMzc1LjUyOGMxMjYuMjcyLDAsMjI4LjYyNC0xMDIuMzY4LDIyOC42MjQtMjI4LjY0YzAtNTUuOTUyLTIwLjE2LTEwNy4xMzYtNTMuNTItMTQ2Ljg4ICBDNDI1LjA1NiwzMy4wOTYsNDk5LjY5NiwxMjkuNjQsNDk5LjY5NiwyNDMuNzA0YzAsMTQxLjM5Mi0xMTQuNjA4LDI1Ni0yNTYsMjU2Yy0xMTQuMDY0LDAtMjEwLjYwOC03NC42NC0yNDMuNjk2LTE3Ny43MTIgIEMzOS43NDQsMzU1LjM2OCw5MC45NDQsMzc1LjUyOCwxNDYuODgsMzc1LjUyOHoiLz4KPHBhdGggc3R5bGU9ImZpbGw6I0Y0QzUzNDsiIGQ9Ik00MDEuOTIsNDIuNzc2YzM0LjI0LDQzLjUwNCw1NC44MTYsOTguMjcyLDU0LjgxNiwxNTcuOTUyYzAsMTQxLjM5Mi0xMTQuNjA4LDI1Ni0yNTYsMjU2ICBjLTU5LjY4LDAtMTE0LjQ0OC0yMC41NzYtMTU3Ljk1Mi01NC44MTZjNDYuODQ4LDU5LjQ3MiwxMTkuMzQ0LDk3Ljc5MiwyMDAuOTI4LDk3Ljc5MmMxNDEuMzkyLDAsMjU2LTExNC42MDgsMjU2LTI1NiAgQzQ5OS43MTIsMTYyLjEyLDQ2MS4zOTIsODkuNjQsNDAxLjkyLDQyLjc3NnoiLz4KPGc+Cgk8cG9seWdvbiBzdHlsZT0iZmlsbDojRkZEODNCOyIgcG9pbnRzPSIxMjguMTI4LDk5Ljk0NCAxNTQuNDk2LDE1My40IDIxMy40NzIsMTYxLjk2IDE3MC44LDIwMy41NiAxODAuODY0LDI2Mi4yOTYgICAgMTI4LjEyOCwyMzQuNTY4IDc1LjM3NiwyNjIuMjk2IDg1LjQ0LDIwMy41NiA0Mi43NjgsMTYxLjk2IDEwMS43NDQsMTUzLjQgICIvPgoJPHBvbHlnb24gc3R5bGU9ImZpbGw6I0ZGRDgzQjsiIHBvaW50cz0iMjc2Ljg2NCw4Mi44NCAyOTAuNTI4LDExMC41NTIgMzIxLjEwNCwxMTQuOTg0IDI5OC45NzYsMTM2LjU1MiAzMDQuMjA4LDE2Ni45ODQgICAgMjc2Ljg2NCwxNTIuNjE2IDI0OS41MiwxNjYuOTg0IDI1NC43NTIsMTM2LjU1MiAyMzIuNjI0LDExNC45ODQgMjYzLjIsMTEwLjU1MiAgIi8+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPGc+CjwvZz4KPC9zdmc+Cg==&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>Click the sun/moon<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- partial --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>  <span class="attr">src</span>=<span class="string">&quot;./script.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">  --primary-<span class="attribute">color</span>: <span class="number">#1B1E24</span>;</span><br><span class="line">  --secondary-<span class="attribute">color</span>: <span class="number">#1B1E24</span>;</span><br><span class="line">  --<span class="attribute">font</span>-<span class="attribute">color</span>: <span class="number">#1B1E24</span>;</span><br><span class="line">  --bg-<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  --heading-<span class="attribute">color</span>: <span class="number">#1B1E24</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[data-theme=dark]</span> &#123;</span><br><span class="line">  --primary-<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  --secondary-<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  --<span class="attribute">font</span>-<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  --bg-<span class="attribute">color</span>: <span class="number">#1B1E24</span>;</span><br><span class="line">  --heading-<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">var</span>(--bg-color);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">97vh</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.content</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--primary-color);</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Dosis&quot;</span>, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">5rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> <span class="selector-class">.content</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="built_in">var</span>(--primary-color);</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Dosis&quot;</span>, sans-serif;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">2rem</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.moon</span>, <span class="selector-class">.header</span> <span class="selector-class">.sun</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">34px</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">transition</span>: <span class="number">0.5s</span> all ease-in-out;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.sun</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: sun_rotate <span class="number">1s</span> infinite;</span><br><span class="line">          <span class="attribute">animation</span>: sun_rotate <span class="number">1s</span> infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.moon</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.header</span> <span class="selector-class">.hide</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> sun_rotate &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> sun_rotate &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="JS"><a href="#JS" class="headerlink" title="JS"></a>JS</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> lightMode = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.sun&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> darkMode = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.moon&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> currentTheme = <span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;theme&#x27;</span>) ? <span class="built_in">localStorage</span>.getItem(<span class="string">&#x27;theme&#x27;</span>) : <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">lightMode.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.documentElement.setAttribute(<span class="string">&#x27;data-theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">  lightMode.style = <span class="string">&quot;display: none&quot;</span>;</span><br><span class="line">  darkMode.style = <span class="string">&quot;display: block&quot;</span>;</span><br><span class="line">  <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">darkMode.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.documentElement.setAttribute(<span class="string">&#x27;data-theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">  lightMode.style = <span class="string">&quot;display: block&quot;</span>;</span><br><span class="line">  darkMode.style = <span class="string">&quot;display: none&quot;</span>;</span><br><span class="line">  <span class="built_in">localStorage</span>.setItem(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>);</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (currentTheme) &#123;</span><br><span class="line">    <span class="built_in">document</span>.documentElement.setAttribute(<span class="string">&#x27;data-theme&#x27;</span>, currentTheme);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (currentTheme === <span class="string">&#x27;dark&#x27;</span>) &#123;</span><br><span class="line">        lightMode.style = <span class="string">&quot;display: none&quot;</span>;</span><br><span class="line">      darkMode.style = <span class="string">&quot;display: block&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2021/07/30/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AAgithub%E8%B4%A6%E5%8F%B7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/30/%E5%A6%82%E4%BD%95%E5%9C%A8%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%AE%A1%E7%90%86%E5%A4%9A%E4%B8%AAgithub%E8%B4%A6%E5%8F%B7/" class="post-title-link" itemprop="url">Â¶Ç‰ΩïÂú®‰∏ÄÂè∞Êú∫Âô®‰∏äÁÆ°ÁêÜÂ§ö‰∏™GithubË¥¶Âè∑</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
      

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-07-30 11:19:01 / ‰øÆÊîπÊó∂Èó¥Ôºö11:29:13" itemprop="dateCreated datePublished" datetime="2021-07-30T11:19:01+09:00">2021-07-30</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
‰Ω†ËØ¥Êàë‰ºöÈÅáÂà∞Êõ¥Â•ΩÁöÑ‰∫∫ÔºåÂÖ∂ÂÆûÊòØ‰Ω†ÊÉ≥Êã•ÊúâÊõ¥Â•ΩÁöÑ‰∫∫
</blockquote>

<p>Êàë‰ª¨ÊúâÊó∂ÂÄôÈúÄË¶ÅÂú®‰∏ÄÂè∞ÁîµËÑë‰∏äÁÆ°ÁêÜ‰∏§‰∏™ÊàñËÄÖ‰∏§‰∏™‰ª•‰∏äÁöÑ GitHub Ë¥¶Âè∑Ôºå‰æãÂ¶ÇË¶ÅÂú®ÁîµËÑë‰∏äÂêåÊó∂‰ΩøÁî®‰∏™‰∫∫ÂíåÂÖ¨Âè∏ÁöÑ Github Ë¥¶Âè∑ÔºåÈÇ£‰πàÂ¶Ç‰ΩïÊìç‰ΩúÂë¢Ôºü</p>
<h3 id="ÂàõÂª∫Êñ∞ÁöÑ-SSH-Key"><a href="#ÂàõÂª∫Êñ∞ÁöÑ-SSH-Key" class="headerlink" title="ÂàõÂª∫Êñ∞ÁöÑ SSH Key"></a>ÂàõÂª∫Êñ∞ÁöÑ SSH Key</h3><p>ÂÅáËÆæ‰∏™‰∫∫ÁîµËÑë‰∏äÂ∑≤ÁªèÊúâ‰∫Ü‰∏Ä‰∏™Ê≠£‰ΩøÁî®ÁöÑ GitHub Ë¥¶Âè∑ user_a ÔºåÁé∞Âú®Ê∑ªÂä†Á¨¨‰∫å‰∏™ GitHub Ë¥¶Âè∑ user_b ÁöÑÈÖçÁΩÆ„ÄÇ<br>ÊâìÂºÄÁªàÁ´ØÁîüÊàê‰∏Ä‰∏™Êñ∞ÁöÑ SSH Key:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">&quot;user_b@gmail.com&quot;</span></span><br></pre></td></tr></table></figure>
<p>Ê≥®ÊÑèÔºåÊñ∞ÁîüÊàêÁöÑÂØÜÈí•‰∏çË¶ÅË¶ÜÁõñÂéüÊù•ÁöÑÔºåÂú® ssh-keygent ËøêË°å‰∏≠ËÆ©Êñ∞ÁîüÊàêÁöÑ key ÂëΩÂêç‰∏∫ user_b„ÄÇ<br>Âú®ÊàëÁîµËÑëÈáåÈù¢ÔºåÂÆÉË¢´‰øùÂ≠òÂú®  <code>~/.ssh/user_b_id_rsa</code><br>ÊääÊñ∞ÁîüÊàêÁöÑ SSH key Ê∑ªÂä†Âà∞ ssh-agent:</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">eval</span> <span class="string">&quot;$(ssh-agent -s)&quot;</span></span><br><span class="line">$ ssh-add ~/.ssh/user_b_id_rsa</span><br></pre></td></tr></table></figure>

<h3 id="Âú®Á¨¨‰∫å‰∏™-GitHub-Ë¥¶Êà∑ÈáåÈù¢Ê∑ªÂä†-Êñ∞ÁîüÊàê-user-b-id-rsa-pub"><a href="#Âú®Á¨¨‰∫å‰∏™-GitHub-Ë¥¶Êà∑ÈáåÈù¢Ê∑ªÂä†-Êñ∞ÁîüÊàê-user-b-id-rsa-pub" class="headerlink" title="Âú®Á¨¨‰∫å‰∏™ GitHub Ë¥¶Êà∑ÈáåÈù¢Ê∑ªÂä† Êñ∞ÁîüÊàê user_b_id_rsa.pub"></a>Âú®Á¨¨‰∫å‰∏™ GitHub Ë¥¶Êà∑ÈáåÈù¢Ê∑ªÂä† Êñ∞ÁîüÊàê user_b_id_rsa.pub</h3><p>ÁôªÂΩïÁ¨¨‰∫å‰∏™ Github Ë¥¶Âè∑ÔºåÊää user_b_id_rsa.pub Ê∑ªÂä†Âà∞Ë¥¶Âè∑ÈáåÈù¢„ÄÇ</p>
<h3 id="Âú®ÔΩû-ssh-ÁõÆÂΩï‰∏ãÊñ∞Âª∫-config-Êñá‰ª∂"><a href="#Âú®ÔΩû-ssh-ÁõÆÂΩï‰∏ãÊñ∞Âª∫-config-Êñá‰ª∂" class="headerlink" title="Âú®ÔΩû/.ssh ÁõÆÂΩï‰∏ãÊñ∞Âª∫ config Êñá‰ª∂"></a>Âú®ÔΩû/.ssh ÁõÆÂΩï‰∏ãÊñ∞Âª∫ config Êñá‰ª∂</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ touch ~/.ssh/config</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Host</span> <span class="string">user_a-github.com</span></span><br><span class="line">  <span class="string">HostName</span> <span class="string">github.com</span></span><br><span class="line">  <span class="string">User</span> <span class="string">git</span></span><br><span class="line">  <span class="string">IdentityFile</span> <span class="string">~/.ssh/user_a_id_rsa</span></span><br><span class="line"></span><br><span class="line"><span class="string">Host</span> <span class="string">user_b-github.com</span></span><br><span class="line">  <span class="string">HostName</span> <span class="string">github.com</span></span><br><span class="line">  <span class="string">User</span> <span class="string">git</span></span><br><span class="line">  <span class="string">IdentityFile</span> <span class="string">~/.ssh/user_b_id_rsa</span></span><br></pre></td></tr></table></figure>

<h3 id="ÊµãËØïËøûÊé•"><a href="#ÊµãËØïËøûÊé•" class="headerlink" title="ÊµãËØïËøûÊé•"></a>ÊµãËØïËøûÊé•</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@user_a-github.com</span><br><span class="line">$ ssh -T git@user_b-github.com</span><br></pre></td></tr></table></figure>
<p>Ëã•ÊàêÂäüÔºåÈÉΩ‰ºöÊé•Êî∂Âà∞Á±ª‰ººËøôÊ†∑ÁöÑ‰ø°ÊÅØÔºö</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi user_a! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br><span class="line"><span class="string">Hi user_b! You&#x27;</span>ve successfully authenticated, but GitHub does not provide shell access.</span><br></pre></td></tr></table></figure>

<h3 id="ÊµãËØïÁî®Êää‰ªìÂ∫ìÊèê‰∫§Âà∞Á¨¨‰∫å‰∏™-Github-Ë¥¶Âè∑"><a href="#ÊµãËØïÁî®Êää‰ªìÂ∫ìÊèê‰∫§Âà∞Á¨¨‰∫å‰∏™-Github-Ë¥¶Âè∑" class="headerlink" title="ÊµãËØïÁî®Êää‰ªìÂ∫ìÊèê‰∫§Âà∞Á¨¨‰∫å‰∏™ Github Ë¥¶Âè∑"></a>ÊµãËØïÁî®Êää‰ªìÂ∫ìÊèê‰∫§Âà∞Á¨¨‰∫å‰∏™ Github Ë¥¶Âè∑</h3><p>Êñ∞Âª∫‰∏Ä‰∏™Êñá‰ª∂Â§πÔºåÂàùÂßãÂåñ‰∏∫‰ªìÂ∫ìÔºåÂàõÂª∫Á¨¨‰∏Ä‰∏™ commit</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir Test</span><br><span class="line">$ cd Test</span><br><span class="line">$ git init</span><br><span class="line">$ git commit -am <span class="string">&quot;first commit&quot;</span></span><br><span class="line">$ git remote add origin git@user_b-github.com:user_b/testing.git</span><br><span class="line">$ git branch -M main</span><br><span class="line">$ git push -u origin main</span><br></pre></td></tr></table></figure>
<p>Ê≥®ÊÑèÔºö‰∏∫Êú¨Âú∞‰ªìÂ∫ìÊ∑ªÂä†ËøúÁ®ãÂú∞ÂùÄÊó∂ÔºåË¶ÅÊõøÊç¢‰∏∫ config Êñá‰ª∂ÈáåÈù¢ÁöÑ Host „ÄÇ<br>‰æãÂ¶ÇÊ≠§Â§ÑÔºö user_b-github.com</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@user_b-github.com:user_b/testing.git</span><br></pre></td></tr></table></figure>

<blockquote>
<p><a target="_blank" rel="noopener" href="https://learnku.com/articles/59358">https://learnku.com/articles/59358</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2021/06/28/golang%E7%9A%84panic%E5%92%8Crecover/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/28/golang%E7%9A%84panic%E5%92%8Crecover/" class="post-title-link" itemprop="url">golangÁöÑpanicÂíårecover</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-06-28 12:49:24" itemprop="dateCreated datePublished" datetime="2021-06-28T12:49:24+09:00">2021-06-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
        <time title="‰øÆÊîπÊó∂Èó¥Ôºö2021-09-10 13:55:48" itemprop="dateModified" datetime="2021-09-10T13:55:48+09:00">2021-09-10</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="What-is-Panic"><a href="#What-is-Panic" class="headerlink" title="What is Panic?"></a>What is Panic?</h3><p>The idiomatic way of handling abnormal conditions in a Go program is using errors. Errors are sufficient for most of the abnormal conditions arising in the program.</p>
<p>But there are some situations where the program cannot continue execution after an abnormal condition. In this case, we use panic to prematurely terminate the program. When a function encounters a panic, its execution is stopped, any deferred functions are executed and then the control returns to its caller. This process continues until all the functions of the current goroutine have returned at which point the program prints the panic message, followed by the stack trace and then terminates. This concept will be more clear when we write an example program.</p>
<p>It is possible to regain control of a panicking program using recover which we will discuss later in this tutorial.</p>
<p>panic and recover can be considered similar to try-catch-finally idiom in other languages such as Java except that they are rarely used in Go.</p>
<h3 id="When-Should-Panic-Be-Used"><a href="#When-Should-Panic-Be-Used" class="headerlink" title="When Should Panic Be Used?"></a>When Should Panic Be Used?</h3><p>One important factor is that you should avoid panic and recover and use errors where ever possible. Only in cases where the program just cannot continue execution should panic and recover mechanism be used.</p>
<p>There are two valid use cases for panic.</p>
<ul>
<li><p>An unrecoverable error where the program cannot simply continue its execution.<br>One example is a web server that fails to bind to the required port. In this case, it‚Äôs reasonable to panic as there is nothing else to do if the port binding itself fails.</p>
</li>
<li><p>A programmer error.<br>Let‚Äôs say we have a method that accepts a pointer as a parameter and someone calls this method using a nil argument. In this case, we can panic as it‚Äôs a programmer error to call a method with nil argument which was expecting a valid pointer.</p>
</li>
</ul>
<h3 id="Panic-Example"><a href="#Panic-Example" class="headerlink" title="Panic Example"></a>Panic Example</h3><p>The signature of the built-in panic function is provided below,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">panic</span><span class="params">(<span class="keyword">interface</span>&#123;&#125;)</span></span>  </span><br></pre></td></tr></table></figure>

<p>The argument passed to the panic function will be printed when the program terminates. The use of this will be clear when we write a sample program. So let‚Äôs do that right away.</p>
<p>We will start with a contrived example which shows how panic works.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fullName</span><span class="params">(firstName *<span class="keyword">string</span>, lastName *<span class="keyword">string</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> firstName == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;runtime error: first name cannot be nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> lastName == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;runtime error: last name cannot be nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s %s\n&quot;</span>, *firstName, *lastName)</span><br><span class="line">    fmt.Println(<span class="string">&quot;returned normally from fullName&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    firstName := <span class="string">&quot;Elon&quot;</span></span><br><span class="line">    fullName(&amp;firstName, <span class="literal">nil</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;returned normally from main&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>The above is a simple program to print the full name of a person. The fullName function in line no. 7 prints the full name of a person. This function checks whether the firstName and lastName pointers are nil in line nos. 8 and 11 respectively. If it is nil the function calls panic with a corresponding message. This message will be printed when the program terminates.</p>
<p>Running this program will print the following output,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">panic</span>: runtime error: last name cannot be <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">goroutine <span class="number">1</span> [running]:  </span><br><span class="line">main.fullName(<span class="number">0xc00006af58</span>, <span class="number">0x0</span>)  </span><br><span class="line">    /tmp/sandbox210590465/prog.<span class="keyword">go</span>:<span class="number">12</span> +<span class="number">0x193</span></span><br><span class="line">main.main()  </span><br><span class="line">    /tmp/sandbox210590465/prog.<span class="keyword">go</span>:<span class="number">20</span> +<span class="number">0x4d</span></span><br></pre></td></tr></table></figure>

<p>Let‚Äôs analyze this output to understand how panic works and how the stack trace is printed when the program panics.</p>
<p>In line no. 19 we assign Elon to firstName. We call fullName function with lastName as nil in line no. 20. Hence the condition in line no. 11 will be satisfied and the program will panic. When panic is encountered, the program execution terminates, the argument passed to the panic function is printed followed by the stack trace. Since the program terminates following the panic function call in line no. 12, the code in line nos. 13, 14, and 15 will not be executed.</p>
<p>This program first prints the message passed to the panic function,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">panic</span>: runtime error: last name cannot be <span class="literal">nil</span>  </span><br></pre></td></tr></table></figure>

<p>and then prints the stack trace.</p>
<p>The program panicked in line no. 12 of fullName function and hence,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">goroutine <span class="number">1</span> [running]:  </span><br><span class="line">main.fullName(<span class="number">0xc00006af58</span>, <span class="number">0x0</span>)  </span><br><span class="line">    /tmp/sandbox210590465/prog.<span class="keyword">go</span>:<span class="number">12</span> +<span class="number">0x193</span></span><br></pre></td></tr></table></figure>

<p>will be printed first. Then the next item in the stack will be printed. In our case, line no. 20 where the fullName is called is the next item in the stack trace. Hence it is printed next.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">main.main()  </span><br><span class="line">    /tmp/sandbox210590465/prog.<span class="keyword">go</span>:<span class="number">20</span> +<span class="number">0x4d</span></span><br></pre></td></tr></table></figure>

<p>Now we have reached the top level function which caused the panic and there are no more levels above, hence there is nothing more to print.</p>
<h3 id="One-More-Example"><a href="#One-More-Example" class="headerlink" title="One More Example"></a>One More Example</h3><p>Panics can also be caused by errors that happen during the runtime such as trying to access an index that is not present in a slice.</p>
<p>Let‚Äôs write a contrived example which creates a panic due to out of bounds slice access.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">slicePanic</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    n := []<span class="keyword">int</span>&#123;<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Println(n[<span class="number">4</span>])</span><br><span class="line">    fmt.Println(<span class="string">&quot;normally returned from a&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    slicePanic()</span><br><span class="line">    fmt.Println(<span class="string">&quot;normally returned from main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>In the program above, in line no. 9 we are trying to access n[4] which is an invalid index in the slice. This program will panic with the following output,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">panic</span>: runtime error: index out of <span class="keyword">range</span> [<span class="number">4</span>] with length <span class="number">3</span></span><br><span class="line"></span><br><span class="line">goroutine <span class="number">1</span> [running]:  </span><br><span class="line">main.slicePanic()  </span><br><span class="line">    /tmp/sandbox942516049/prog.<span class="keyword">go</span>:<span class="number">9</span> +<span class="number">0x1d</span></span><br><span class="line">main.main()  </span><br><span class="line">    /tmp/sandbox942516049/prog.<span class="keyword">go</span>:<span class="number">13</span> +<span class="number">0x22</span></span><br></pre></td></tr></table></figure>

<h3 id="Defer-Calls-During-a-Panic"><a href="#Defer-Calls-During-a-Panic" class="headerlink" title="Defer Calls During a Panic"></a>Defer Calls During a Panic</h3><p>Let‚Äôs recollect what panic does. When a function encounters a panic, its execution is stopped, any deferred functions are executed and then the control returns to its caller. This process continues until all the functions of the current goroutine have returned at which point the program prints the panic message, followed by the stack trace and then terminates.</p>
<p>In the example above, we did not defer any function calls. If a deferred function call is present, it is executed and then the control returns to its caller.</p>
<p>Let‚Äôs modify the example above a little and use a defer statement.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fullName</span><span class="params">(firstName *<span class="keyword">string</span>, lastName *<span class="keyword">string</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;deferred call in fullName&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> firstName == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;runtime error: first name cannot be nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> lastName == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;runtime error: last name cannot be nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s %s\n&quot;</span>, *firstName, *lastName)</span><br><span class="line">    fmt.Println(<span class="string">&quot;returned normally from fullName&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;deferred call in main&quot;</span>)</span><br><span class="line">    firstName := <span class="string">&quot;Elon&quot;</span></span><br><span class="line">    fullName(&amp;firstName, <span class="literal">nil</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;returned normally from main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The only changes made are the addition of the deferred function calls in line nos. 8 and 20.</p>
<p>This program prints,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">deferred call in fullName  </span><br><span class="line">deferred call in main  </span><br><span class="line"><span class="built_in">panic</span>: runtime error: last name cannot be <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line">goroutine <span class="number">1</span> [running]:  </span><br><span class="line">main.fullName(<span class="number">0xc00006af28</span>, <span class="number">0x0</span>)  </span><br><span class="line">    /tmp/sandbox451943841/prog.<span class="keyword">go</span>:<span class="number">13</span> +<span class="number">0x23f</span></span><br><span class="line">main.main()  </span><br><span class="line">    /tmp/sandbox451943841/prog.<span class="keyword">go</span>:<span class="number">22</span> +<span class="number">0xc6</span></span><br></pre></td></tr></table></figure>

<p>When the program panics in line no. 13, any deferred function calls are first executed and then the control returns to the caller whose deferred calls are executed and so on until the top level caller is reached.</p>
<p>In our case, defer statement in line no. 8 of fullName function is executed first. This prints the following message.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deferred call in fullName  </span><br></pre></td></tr></table></figure>

<p>And then the control returns to the main function whose deferred calls are executed and hence this prints,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deferred call in main  </span><br></pre></td></tr></table></figure>
<p>Now the control has reached the top level function and hence the program prints the panic message followed by the stack trace and then terminates.</p>
<h3 id="Recovering-from-a-Panic"><a href="#Recovering-from-a-Panic" class="headerlink" title="Recovering from a Panic"></a>Recovering from a Panic</h3><p>recover is a builtin function that is used to regain control of a panicking program.</p>
<p>The signature of recover function is provided below,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recover</span><span class="params">()</span> <span class="title">interface</span></span>&#123;&#125;  </span><br></pre></td></tr></table></figure>

<p>Recover is useful only when called inside deferred functions. Executing a call to recover inside a deferred function stops the panicking sequence by restoring normal execution and retrieves the error message passed to the panic function call. If recover is called outside the deferred function, it will not stop a panicking sequence.</p>
<p>Let‚Äôs modify our program and use recover to restore normal execution after a panic.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recoverFullName</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r!= <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;recovered from &quot;</span>, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fullName</span><span class="params">(firstName *<span class="keyword">string</span>, lastName *<span class="keyword">string</span>)</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> recoverFullName()</span><br><span class="line">    <span class="keyword">if</span> firstName == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;runtime error: first name cannot be nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> lastName == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(<span class="string">&quot;runtime error: last name cannot be nil&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%s %s\n&quot;</span>, *firstName, *lastName)</span><br><span class="line">    fmt.Println(<span class="string">&quot;returned normally from fullName&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(<span class="string">&quot;deferred call in main&quot;</span>)</span><br><span class="line">    firstName := <span class="string">&quot;Elon&quot;</span></span><br><span class="line">    fullName(&amp;firstName, <span class="literal">nil</span>)</span><br><span class="line">    fmt.Println(<span class="string">&quot;returned normally from main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The recoverFullName() function in line no. 7 calls recover() which returns the value passed to panic function call. Here we are just printing the value returned by recover in line no. 9. recoverFullName() is being deferred in line no. 14 of the fullName function.</p>
<p>When fullName panics, the deferred function recoverName() will be called which uses recover() to stop the panicking sequence.</p>
<p>This program will print,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">recovered from  runtime error: last name cannot be <span class="literal">nil</span>  </span><br><span class="line">returned normally from main  </span><br><span class="line">deferred call in main  </span><br></pre></td></tr></table></figure>

<p>When the program panics in line no. 19, the deferred recoverFullName function is called which in turn calls recover() to regain control of the panicking sequence. The call to recover() in line no. 8 returns the argument passed to panic() and hence it prints,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">recovered from  runtime error: last name cannot be <span class="literal">nil</span>  </span><br></pre></td></tr></table></figure>

<p>After execution of recover(), the panicking stops and the control returns to the caller, in this case, the main function. The program continues to execute normally from line 29 in main since the panic has been recovered üòÉ. It prints returned normally from main followed by deferred call in main</p>
<p>Let‚Äôs look at one more example where we recover from a panic caused by accessing an invalid index of a slice.</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (  </span><br><span class="line">    <span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recoverInvalidAccess</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">if</span> r := <span class="built_in">recover</span>(); r != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Recovered&quot;</span>, r)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">invalidSliceAccess</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    <span class="keyword">defer</span> recoverInvalidAccess()</span><br><span class="line">    n := []<span class="keyword">int</span>&#123;<span class="number">5</span>, <span class="number">7</span>, <span class="number">4</span>&#125;</span><br><span class="line">    fmt.Println(n[<span class="number">4</span>])</span><br><span class="line">    fmt.Println(<span class="string">&quot;normally returned from a&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;  </span><br><span class="line">    invalidSliceAccess()</span><br><span class="line">    fmt.Println(<span class="string">&quot;normally returned from main&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Running the above program will output,</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Recovered runtime error: index out of <span class="keyword">range</span> [<span class="number">4</span>] with length <span class="number">3</span>  </span><br><span class="line">normally returned from main  </span><br></pre></td></tr></table></figure>

<p>From the output, you can understand that we have recovered from the panic.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://golangbot.com/panic-and-recover/">https://golangbot.com/panic-and-recover/</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2021/05/13/html%E8%BF%87%E6%BB%A4%E6%8C%87%E5%AE%9A%E6%A0%87%E7%AD%BE%E4%BB%A5%E5%8F%8A%E5%B1%9E%E6%80%A7css%E6%A0%B7%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/05/13/html%E8%BF%87%E6%BB%A4%E6%8C%87%E5%AE%9A%E6%A0%87%E7%AD%BE%E4%BB%A5%E5%8F%8A%E5%B1%9E%E6%80%A7css%E6%A0%B7%E5%BC%8F/" class="post-title-link" itemprop="url">htmlËøáÊª§ÊåáÂÆöÊ†áÁ≠æ‰ª•ÂèäÂ±ûÊÄßcssÊ†∑Âºè</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-05-13 15:28:36" itemprop="dateCreated datePublished" datetime="2021-05-13T15:28:36+09:00">2021-05-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
        <time title="‰øÆÊîπÊó∂Èó¥Ôºö2021-09-27 15:07:28" itemprop="dateModified" datetime="2021-09-27T15:07:28+09:00">2021-09-27</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
‰∏ÄËæàÂ≠êÈÉΩË¶ÅÂíåÂà´‰∫∫ÂéªÊØîËæÉÔºåÊòØ‰∫∫ÁîüÊÇ≤ÂâßÁöÑÊ∫êÂ§¥
</blockquote>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rich_text_filter</span>(<span class="params"><span class="variable">$content</span></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="variable">$allowTags</span> = <span class="keyword">array</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>, <span class="string">&#x27;&lt;b&gt;&#x27;</span>, <span class="string">&#x27;&lt;p&gt;&#x27;</span>, <span class="string">&#x27;&lt;i&gt;&#x27;</span>, <span class="string">&#x27;&lt;u&gt;&#x27;</span>, <span class="string">&#x27;&lt;div&gt;&#x27;</span>, <span class="string">&#x27;&lt;strong&gt;&#x27;</span>, <span class="string">&#x27;&lt;img&gt;&#x27;</span>);   <span class="comment">// ÂÖÅËÆ∏ÈÄöËøáÁöÑÊ†áÁ≠æ</span></span><br><span class="line">    <span class="variable">$allowAttributes</span> = <span class="keyword">array</span>(<span class="string">&#x27;src&#x27;</span>, <span class="string">&#x27;width&#x27;</span>, <span class="string">&#x27;style&#x27;</span>);                                      <span class="comment">// ÂÖÅËÆ∏ÈÄöËøáÁöÑhtmlÂ±ûÊÄß</span></span><br><span class="line">    <span class="variable">$allowCss</span> = <span class="keyword">array</span>(<span class="string">&quot;width&quot;</span>, <span class="string">&quot;text-align&quot;</span>, <span class="string">&quot;font-weight&quot;</span>);                                <span class="comment">// ÂÖÅËÆ∏ÈÄöËøáÁöÑcssÂ±ûÊÄß</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Âà†Èô§Â§ö‰ΩôÊ†áÁ≠æ  ‰øùÁïôÁâπÂÆöÊ†áÁ≠æ</span></span><br><span class="line">    <span class="variable">$content</span> = strip_tags(<span class="variable">$content</span>, implode(<span class="variable">$allowTags</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Âà†Èô§Â§ö‰ΩôÊï∞Â±ûÊÄß ÂíåÂ§ö‰Ωôcss</span></span><br><span class="line">    <span class="variable">$content</span> = preg_replace(<span class="string">&quot;/&lt;\s*/&quot;</span>, <span class="string">&#x27;&lt;&#x27;</span>, <span class="variable">$content</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable">$content</span> = preg_replace_callback(<span class="string">&quot;/([a-zA-Z0-9\-]+)=[&#x27;\&quot;]([^&#x27;\&quot;]*)[&#x27;\&quot;]\s*/i&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$matches</span></span>) <span class="keyword">use</span> (<span class="params"><span class="variable">$allowAttributes</span>, <span class="variable">$allowCss</span></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="keyword">isset</span>(<span class="variable">$matches</span>[<span class="number">1</span>]) || !in_array(trim(<span class="variable">$matches</span>[<span class="number">1</span>]), <span class="variable">$allowAttributes</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (trim(<span class="variable">$matches</span>[<span class="number">1</span>]) === <span class="string">&#x27;style&#x27;</span> &amp;&amp; <span class="keyword">isset</span>(<span class="variable">$matches</span>[<span class="number">2</span>]) &amp;&amp; !<span class="keyword">empty</span>(<span class="variable">$matches</span>[<span class="number">2</span>])) &#123;</span><br><span class="line">            <span class="variable">$styles</span> = <span class="variable">$matches</span>[<span class="number">2</span>] . (preg_match(<span class="string">&quot;/;$/&quot;</span>, <span class="variable">$matches</span>[<span class="number">2</span>]) ? <span class="string">&#x27;&#x27;</span> : <span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">            <span class="variable">$styles</span> = preg_replace_callback(<span class="string">&quot;/([^:;]+):([^:;]+);/&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"><span class="variable">$items</span></span>) <span class="keyword">use</span>(<span class="params"><span class="variable">$allowCss</span></span>) </span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="keyword">isset</span>(<span class="variable">$items</span>[<span class="number">1</span>]) &amp;&amp; in_array(trim(<span class="variable">$items</span>[<span class="number">1</span>]), <span class="variable">$allowCss</span>)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="variable">$items</span>[<span class="number">0</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;, <span class="variable">$styles</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> sprintf(<span class="string">&#x27;style=&quot;%s&quot; &#x27;</span>, <span class="variable">$styles</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sprintf(<span class="string">&#x27; %s &#x27;</span>, <span class="variable">$matches</span>[<span class="number">0</span>]);</span><br><span class="line">    &#125;, <span class="variable">$content</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="variable">$content</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2021/03/13/%E5%AF%BC%E8%87%B4mysql%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E7%9A%84%E5%87%A0%E7%A7%8D%E5%86%99%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/03/13/%E5%AF%BC%E8%87%B4mysql%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E7%9A%84%E5%87%A0%E7%A7%8D%E5%86%99%E6%B3%95/" class="post-title-link" itemprop="url">ÂØºËá¥mysqlÁ¥¢ÂºïÂ§±ÊïàÁöÑÂá†ÁßçÂÜôÊ≥ï</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2021-03-13 18:06:43" itemprop="dateCreated datePublished" datetime="2021-03-13T18:06:43+09:00">2021-03-13</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
        <time title="‰øÆÊîπÊó∂Èó¥Ôºö2022-03-24 12:36:23" itemprop="dateModified" datetime="2022-03-24T12:36:23+09:00">2022-03-24</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
‰∫∫ÁîüËã•Âè™Â¶ÇÂàùËßÅÔºå‰Ωï‰∫ãÁßãÈ£éÊÇ≤ÁîªÊâá
</blockquote>

<h3 id="‰ΩøÁî®-ÊàñËÄÖ-lt-gt-ÂØºËá¥Á¥¢ÂºïÂ§±Êïà"><a href="#‰ΩøÁî®-ÊàñËÄÖ-lt-gt-ÂØºËá¥Á¥¢ÂºïÂ§±Êïà" class="headerlink" title="‰ΩøÁî®!= ÊàñËÄÖ &lt;&gt; ÂØºËá¥Á¥¢ÂºïÂ§±Êïà"></a>‰ΩøÁî®!= ÊàñËÄÖ &lt;&gt; ÂØºËá¥Á¥¢ÂºïÂ§±Êïà</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> name` <span class="operator">!=</span> <span class="string">&#x27;ÂÜ∞Â≥∞&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>Êàë‰ª¨ÁªônameÂ≠óÊÆµÂª∫Á´ã‰∫ÜÁ¥¢ÂºïÔºå‰ΩÜÊòØÂ¶ÇÊûú!= ÊàñËÄÖ &lt;&gt; ËøôÁßçÈÉΩ‰ºöÂØºËá¥Á¥¢ÂºïÂ§±ÊïàÔºåËøõË°åÂÖ®Ë°®Êâ´ÊèèÔºåÊâÄ‰ª•Â¶ÇÊûúÊï∞ÊçÆÈáèÂ§ßÁöÑËØùÔºåË∞®ÊÖé‰ΩøÁî®</p>
<h3 id="Á±ªÂûã‰∏ç‰∏ÄËá¥ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"><a href="#Á±ªÂûã‰∏ç‰∏ÄËá¥ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà" class="headerlink" title="Á±ªÂûã‰∏ç‰∏ÄËá¥ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"></a>Á±ªÂûã‰∏ç‰∏ÄËá¥ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span>` <span class="keyword">WHERE</span> height<span class="operator">=</span> <span class="number">175</span>;</span><br></pre></td></tr></table></figure>
<p>heightË°®Â≠óÊÆµÁ±ªÂûãÊòØvarcharÔºå‰ΩÜÊòØÊàëÊü•ËØ¢ÁöÑÊó∂ÂÄô‰ΩøÁî®‰∫ÜÊï∞Â≠óÁ±ªÂûãÔºåÂõ†‰∏∫Ëøô‰∏™‰∏≠Èó¥Â≠òÂú®‰∏Ä‰∏™ÈöêÂºèÁöÑÁ±ªÂûãËΩ¨Êç¢ÔºåÊâÄ‰ª•Â∞±‰ºöÂØºËá¥Á¥¢ÂºïÂ§±ÊïàÔºåËøõË°åÂÖ®Ë°®Êâ´Êèè„ÄÇ</p>
<h3 id="ÂáΩÊï∞ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"><a href="#ÂáΩÊï∞ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà" class="headerlink" title="ÂáΩÊï∞ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"></a>ÂáΩÊï∞ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span>` <span class="keyword">WHERE</span> <span class="type">DATE</span>(create_time) <span class="operator">=</span> <span class="string">&#x27;2020-09-03&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>Â¶ÇÊûú‰Ω†ÁöÑÁ¥¢ÂºïÂ≠óÊÆµ‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºåÂØπ‰∏çËµ∑Ôºå‰ªñÊòØÁúüÁöÑ‰∏çËµ∞Á¥¢ÂºïÁöÑ</p>
<h3 id="ËøêÁÆóÁ¨¶ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"><a href="#ËøêÁÆóÁ¨¶ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà" class="headerlink" title="ËøêÁÆóÁ¨¶ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"></a>ËøêÁÆóÁ¨¶ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span>` <span class="keyword">WHERE</span> age <span class="operator">-</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<h3 id="ORÂºïËµ∑ÁöÑÁ¥¢ÂºïÂ§±Êïà"><a href="#ORÂºïËµ∑ÁöÑÁ¥¢ÂºïÂ§±Êïà" class="headerlink" title="ORÂºïËµ∑ÁöÑÁ¥¢ÂºïÂ§±Êïà"></a>ORÂºïËµ∑ÁöÑÁ¥¢ÂºïÂ§±Êïà</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> name` <span class="operator">=</span> <span class="string">&#x27;Âº†‰∏â&#x27;</span> <span class="keyword">OR</span> height <span class="operator">=</span> <span class="string">&#x27;175&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ORÂØºËá¥Á¥¢ÂºïÊòØÂú®ÁâπÂÆöÊÉÖÂÜµ‰∏ãÁöÑÔºåÂπ∂‰∏çÊòØÊâÄÊúâÁöÑORÈÉΩÊòØ‰ΩøÁ¥¢ÂºïÂ§±ÊïàÔºåÂ¶ÇÊûúORËøûÊé•ÁöÑÊòØÂêå‰∏Ä‰∏™Â≠óÊÆµÔºåÈÇ£‰πàÁ¥¢Âºï‰∏ç‰ºöÂ§±ÊïàÔºåÂèç‰πãÁ¥¢ÂºïÂ§±Êïà„ÄÇ</p>
<h3 id="Ê®°Á≥äÊêúÁ¥¢ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"><a href="#Ê®°Á≥äÊêúÁ¥¢ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà" class="headerlink" title="Ê®°Á≥äÊêúÁ¥¢ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà"></a>Ê®°Á≥äÊêúÁ¥¢ÂØºËá¥ÁöÑÁ¥¢ÂºïÂ§±Êïà</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> s.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> s <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> u <span class="keyword">WHERE</span> u.name <span class="operator">=</span> s.name <span class="keyword">AND</span> u.name` <span class="operator">=</span> <span class="string">&#x27;ÂÜ∞Â≥∞&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> name` <span class="keyword">NOT</span> <span class="keyword">IN</span> (<span class="string">&#x27;ÂÜ∞Â≥∞&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>Ëøô‰∏§ÁßçÁî®Ê≥ïÔºå‰πüÂ∞Ü‰ΩøÁ¥¢ÂºïÂ§±Êïà„ÄÇ‰ΩÜÊòØNOT IN ËøòÊòØËµ∞Á¥¢ÂºïÁöÑÔºåÂçÉ‰∏á‰∏çË¶ÅËØØËß£‰∏∫ IN ÂÖ®ÈÉ®ÊòØ‰∏çËµ∞Á¥¢ÂºïÁöÑ„ÄÇ</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000023911554">https://segmentfault.com/a/1190000023911554</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2020/12/18/chromedriver%E5%AE%89%E8%A3%85/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/18/chromedriver%E5%AE%89%E8%A3%85/" class="post-title-link" itemprop="url">chromedriverÂÆâË£Ö</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-12-18 15:06:54" itemprop="dateCreated datePublished" datetime="2020-12-18T15:06:54+09:00">2020-12-18</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
        <time title="‰øÆÊîπÊó∂Èó¥Ôºö2021-09-16 23:21:32" itemprop="dateModified" datetime="2021-09-16T23:21:32+09:00">2021-09-16</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
Ë¢´Èó®Â§πËøáÁöÑÊ†∏Ê°ÉËøòËÉΩË°•ËÑëÂòõ
</blockquote>

<h3 id="ÁéØÂ¢É"><a href="#ÁéØÂ¢É" class="headerlink" title="ÁéØÂ¢É"></a>ÁéØÂ¢É</h3><ul>
<li>win10 64 ‰ΩçÁ≥ªÁªü</li>
</ul>
<h3 id="‰∏ãËΩΩ"><a href="#‰∏ãËΩΩ" class="headerlink" title="‰∏ãËΩΩ"></a>‰∏ãËΩΩ</h3><p>‰∏ãËΩΩÂú∞ÂùÄÔºö <a target="_blank" rel="noopener" href="http://chromedriver.storage.googleapis.com/index.html">http://chromedriver.storage.googleapis.com/index.html</a><br>Ê≥®ÊÑèÔºö chromeÁâàÊú¨ÂøÖÈ°ªÂíåchromedriverÁâàÊú¨Áõ∏ÂêåÔºåÂ¶ÇÊûúÊ≤°Êúâ‰∏ÄÊ®°‰∏ÄÊ†∑ÁöÑÁâàÊú¨ÔºåÈÄâÊã©ËÉΩÂåÖÊã¨ÂÆÉÁöÑÁâàÊú¨Âç≥ÂèØ<br>chromeÁâàÊú¨ÁöÑÊü•ÁúãÊñπÂºèÔºåÊâìÂºÄÂú∞ÂùÄ<code>chrome://settings/help</code>Âç≥ÂèØ<br><img style="margin-left: 0;" src="/images/chrome_version.png"></p>
<img style="margin-left: 0;" src="/images/chrome_down.png">

<h3 id="ÂÆâË£Ö"><a href="#ÂÆâË£Ö" class="headerlink" title="ÂÆâË£Ö"></a>ÂÆâË£Ö</h3><p>Â∞Ü‰∏ãËΩΩÂêéÁöÑÊñá‰ª∂Ëß£Âéã<code>chromedriver.exe</code>ÊîæÂà∞ÁõÆÂΩï<code>C:\Program Files\bin</code>‰∏ã,Âπ∂ËÆ∞‰∏ãËøô‰∏™ÁõÆÂΩïÔºåÁêÜËÆ∫‰∏äÂèØ‰ª•ÊîæÂà∞Êú¨Âú∞ÁöÑ‰ªª‰Ωï‰ΩçÁΩÆÔºåÂÖ®Âá≠‰∏™‰∫∫ÂñúÂ•Ω<br><img style="margin-left: 0;" src="/images/chrome_pos.png"></p>
<h3 id="ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè"><a href="#ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè" class="headerlink" title="ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè"></a>ÈÖçÁΩÆÁéØÂ¢ÉÂèòÈáè</h3><p>Â∞ÜÂ≠òÊîæ<code>chromedriver.exe</code>ÁöÑÁõÆÂΩïÊ∑ªÂä†Âà∞ÁéØÂ¢ÉÂèòÈáè‰∏≠<br><img style="margin-left: 0;" src="/images/setenv.png"></p>
<h3 id="È™åËØÅ"><a href="#È™åËØÅ" class="headerlink" title="È™åËØÅ"></a>È™åËØÅ</h3><p>‰ΩøÁî®<code>win+r</code>Âø´Êç∑ÈîÆË∞ÉÂá∫ ËøêË°åÁ™óÂè£Ôºå Âπ∂ËæìÂÖ•<code>cmd</code> ÂëΩ‰ª§Ôºå ÊâìÂºÄcmdÁ™óÂè£Ôºå Âú®Á™óÂè£‰∏≠ËæìÂÖ•<code>chromedriver</code>,ÊòØÂê¶ËÉΩÂ§üÊ≠£Á°ÆÊòæÁ§∫ÁâàÊú¨Âè∑Ôºå Â¶Ç‰∏çÁîüÊïàÔºåÂèØ‰ª•Â∞ùËØïÈáçÂêØËÆ°ÁÆóÊú∫<br><img style="margin-left: 0;" src="/images/cmd.png"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2020/12/17/php-fpm%E5%AE%9A%E4%BD%8D%E6%85%A2%E8%84%9A%E6%9C%AC/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/17/php-fpm%E5%AE%9A%E4%BD%8D%E6%85%A2%E8%84%9A%E6%9C%AC/" class="post-title-link" itemprop="url">php-fpmÂÆö‰ΩçÊÖ¢ËÑöÊú¨</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
      

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-12-17 13:39:32 / ‰øÆÊîπÊó∂Èó¥Ôºö14:44:06" itemprop="dateCreated datePublished" datetime="2020-12-17T13:39:32+09:00">2020-12-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
ÊâÄË∞ìÁöÑÂÖâËæâÂ≤ÅÊúàÔºåÂπ∂‰∏çÊòØ‰ª•ÂêéÔºåÈó™ËÄÄÁöÑÊó•Â≠êÔºåËÄåÊòØÊó†‰∫∫ÈóÆÊ¥•Êó∂Ôºå‰Ω†ÂØπÊ¢¶ÊÉ≥ÁöÑÂÅèÊâß„ÄÇ
</blockquote>

<h3 id="ËØ¥Êòé"><a href="#ËØ¥Êòé" class="headerlink" title="ËØ¥Êòé"></a>ËØ¥Êòé</h3><p>PHP-FPM Êèê‰æõ‰∏Ä‰∏™Âè´ ÊÖ¢Êó•Âøó (slowlog) ÁöÑÂäüËÉΩÔºåÊù•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰ΩçÊâßË°åÊÖ¢ÁöÑËÑöÊú¨„ÄÇ</p>
<h3 id="ÂºÄÂêØ"><a href="#ÂºÄÂêØ" class="headerlink" title="ÂºÄÂêØ"></a>ÂºÄÂêØ</h3><p>‰ª• PHP 7.2 ‰∏∫‰æãÔºåFPM ÁöÑÈÖçÁΩÆ‰ø°ÊÅØ‰Ωç‰∫éÔºö</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/php/<span class="number">7.2</span>/fpm/pool.d/www.conf</span><br></pre></td></tr></table></figure>
<p>Áõ∏ÂÖ≥ÈÖçÁΩÆÈ°πÔºö</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">; ÊÖ¢Êó•ÂøóÁöÑÂ≠òÂÇ®Ë∑ØÂæÑÔºåÈªòËÆ§ `<span class="variable">$pool</span>` ËÆæÁΩÆ‰∏∫ `www`</span><br><span class="line">slowlog = /<span class="keyword">var</span>/log/<span class="variable">$pool</span>.slow.log</span><br><span class="line"></span><br><span class="line">; ËÆæÁΩÆÊÖ¢Êó•ÂøóË∂ÖÊó∂Ê†áÂáÜÔºåËÆæÁΩÆ‰∏∫ <span class="number">0</span> ‰ª£Ë°®ÂÖ≥Èó≠ÊÖ¢Êó•Âøó</span><br><span class="line">request_slowlog_timeout = <span class="number">1</span>s</span><br><span class="line"></span><br><span class="line">; ÊÖ¢Êó•ÂøóËÆ∞ÂΩïËÑöÊú¨Â†ÜÊ†àÁöÑÊ∑±Â∫¶</span><br><span class="line">request_slowlog_trace_depth = <span class="number">20</span></span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏äÁöÑÈÖçÁΩÆÁøªËØëËøáÊù•ÔºöÊåáÂÆö FPM ÂΩìÂèëÁé∞ÊúâËØ∑Ê±ÇÊâßË°åË∂ÖËøá 1 ÁßíÈíüÁöÑÊó∂ÂÄôÔºåÂ∞ÜÊï¥‰∏™Ë∞ÉÁî®Â†ÜÊ†àËÆ∞ÂΩïÂà∞ <code>/var/log/www.slow.log</code> Êñá‰ª∂ÈáåÔºåÂ†ÜÊ†àÁöÑÊ∑±Â∫¶‰∏çË∂ÖËøá 20„ÄÇ</p>
<p>‰Ω†ÂèØ‰ª•Êää 1s ÊîπÊàêÂÖ∂‰ªñÂÄºÔºåÂ¶Ç 10s„ÄÇÊúâ‰∫Ü‰ª•‰∏äÁöÑËÆæÁΩÆÔºåË£ÅÂâ™ÂõæÂÉèÂ∞∫ÂØ∏ÁöÑÊñπÊ≥ï„ÄÅ ÁΩëÁªú I/O Áõ∏ÂÖ≥ÁöÑ‰∏Ä‰∫õËØ∑Ê±ÇÈÉΩÁªèÂ∏∏Âá∫Áé∞Âú® PHP ÊÖ¢Êó•Âøó‰∏≠„ÄÇ‰Ω†ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÊÉÖÂÜµÊù•ÈÄâÊã©Ë∞ÉÊï¥ÊàñËÄÖÂøΩÁï•„ÄÇ</p>
<h3 id="Â¶Ç‰ΩïÂàÜÊûêÔºü"><a href="#Â¶Ç‰ΩïÂàÜÊûêÔºü" class="headerlink" title="Â¶Ç‰ΩïÂàÜÊûêÔºü"></a>Â¶Ç‰ΩïÂàÜÊûêÔºü</h3><p>ÂºÄÂêØ‰∫ÜÊÖ¢Êó•ÂøóÔºåÁΩëÁ´ôËøêË°å‰∏ÄÊÆµÊó∂Èó¥ÂêéÔºåÂ¶ÇÊûúËÆ∞ÂΩï‰∫ÜËæÉÂ§öÁöÑÊÖ¢Êó•ÂøóÔºåÂ¶Ç‰ΩïËøõË°åÊúâÊïàÂàÜÊûêÔºü<br>ÂèØ‰ª•‰ΩøÁî®¬†grep¬†ÂëΩ‰ª§Êù•Âø´ÈÄüÂÆö‰ΩçÊüê‰∏™ÂáΩÊï∞Ë∞ÉÁî®„ÄÅÊàñËÄÖËÑöÊú¨ÂêçÁß∞Ë¢´ËÆ∞ÂΩïÁöÑÊ¨°Êï∞ÔºåËÆ∞ÂΩïÁöÑÊ¨°Êï∞Ë∂äÂ§öÔºå‰ºòÂåñÁöÑ‰ºòÂÖàÁ∫ßÂ∞±Ë∂äÈ´ò„ÄÇ‰ª•‰∏ãÊòØÁÆÄÂçïÁöÑ Á§∫‰æãÔºö</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ grep -o <span class="string">&#x27;fetch_github_user&#x27;</span> /<span class="keyword">var</span>/log/www.slow.log | wc -l</span><br><span class="line"><span class="number">56</span></span><br><span class="line">$ grep -o <span class="string">&#x27;sendEmail&#x27;</span> /<span class="keyword">var</span>/log/www.slow.log | wc -l</span><br><span class="line"><span class="number">48</span></span><br></pre></td></tr></table></figure>

<h3 id="ÁªìËØ≠"><a href="#ÁªìËØ≠" class="headerlink" title="ÁªìËØ≠"></a>ÁªìËØ≠</h3><p>ÊÖ¢Êó•ÂøóÂèØ‰ª•Â∏ÆÂä©Êàë‰ª¨ÂÆö‰ΩçÂà∞ËøêÁî®Á®ãÂ∫èÈáåÁöÑÁì∂È¢àÔºåÊòØ‰∏Ä‰∏™ÈùûÂ∏∏Â•ΩÁî®ÁöÑÂ∑•ÂÖ∑Ôºå‰πüÊòØÊØè‰∏™ PHP ÂºÄÂèëËÄÖÈÉΩÈúÄË¶ÅÁü•ÈÅìÁöÑÂ∑•ÂÖ∑„ÄÇ<br>ÈúÄË¶ÅÊ≥®ÊÑèÁöÑÊòØÔºåÁõëÊéß Slowlog ÂíåËÆ∞ÂΩïÊó•ÂøóÁöÑËøáÁ®ã‰ºöÂØπ PHP ÈÄ†ÊàêÊ∂àËÄóÔºå¬†ÂàáËÆ∞¬†Ë∞ÉËØïÁªìÊùüÂêéÔºåÂä°ÂøÖÂ∞ÜÂÖ∂ÂÖ≥Èó≠„ÄÇ</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2020/12/17/%E7%94%A8cloudflare%E5%92%8Cnginx%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/12/17/%E7%94%A8cloudflare%E5%92%8Cnginx%E7%9A%84%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE/" class="post-title-link" itemprop="url">Áî®CloudflareÂíåNginxÁöÑÁõ∏ÂÖ≥ÈÖçÁΩÆ</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>
      

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-12-17 13:26:24 / ‰øÆÊîπÊó∂Èó¥Ôºö14:37:48" itemprop="dateCreated datePublished" datetime="2020-12-17T13:26:24+09:00">2020-12-17</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
‰Ω†ÈÇ£ËÉΩÂè´Ê¥ªÁùÄ‰πàÔºü‰Ω†ÈÇ£Âè™ËÉΩÂè´Ê≤°Ê≠ª„ÄÇ
</blockquote>

<h3 id="Âü∫Á°ÄÁü•ËØÜ"><a href="#Âü∫Á°ÄÁü•ËØÜ" class="headerlink" title="Âü∫Á°ÄÁü•ËØÜ"></a>Âü∫Á°ÄÁü•ËØÜ</h3><p>Âõ†‰∏∫CDNÁöÑÂ≠òÂú®ÔºåÊâÄ‰ª•SSLÈúÄË¶ÅÂàÜ‰∏∫‰∏§ÈÉ®ÂàÜÔºå‰∏ÄÈÉ®ÂàÜÊòØÊµèËßàÂô®Âà∞Cloudflare CDNÊúçÂä°Âô®ÁöÑ‰º†ËæìÂä†ÂØÜÔºå‰∏ÄÈÉ®ÂàÜÊòØCloudflare CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®‰πãÈó¥ÁöÑÊï∞ÊçÆ‰º†Ëæì„ÄÇ‰∏ÄËà¨Êù•ËØ¥ÔºåÂ¶ÇÊûúÈÄâÊã©OffÔºåÈÇ£‰Ω†ÁöÑÁΩëÁ´ôÂÖ®Á®ãÈÉΩÊ≤°ÊúâSSLÂä†ÂØÜÔºåÂ¶ÇÊûúÈÄâÊã©FlexibleÔºåÈÇ£‰πàCloudflare CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®‰πãÈó¥ÊòØÊòéÊñá‰º†ËæìÔºåÊúâÂèØËÉΩÂ≠òÂú®‰∏ÄÂÆöÁöÑË¢´ÁõëÂê¨È£éÈô©ÔºåÂ¶ÇÊûúÈÄâÊã©FullÔºåÂàôÂÖ®Á®ãÈÉΩÊòØÁî®SSLÂä†ÂØÜÔºå‰ΩÜÊòØÂπ∂‰∏çÊ†°È™åÁΩëÁ´ôÊúçÂä°Âô®ÁöÑËØÅ‰π¶ÊúâÊïàÊÄßÔºàÊâÄ‰ª•ÂΩìË¢´‰∏≠Èó¥‰∫∫ÊîªÂáªÊó∂Ôºå‰ªçÁÑ∂‰ºöÊúâÊï∞ÊçÆË¢´ÁõëÂê¨ÁöÑÂèØËÉΩÊÄßÔºâÔºåÂ¶ÇÊûúÈÄâÊã©Full(strict)ÔºåÈÇ£‰πà‰∏ç‰ªÖÂÖ®Á®ãÈÉΩSSLÂä†ÂØÜÔºåÂπ∂‰∏îCloudflare‰ºöÈ™åËØÅÁΩëÁ´ôÊúçÂä°Âô®ËØÅ‰π¶ÔºåÈúÄË¶ÅÊòØÂèó‰ø°‰ªªÁöÑËØÅ‰π¶ÊàñËÄÖÁî±CloudflareÁ≠æÁΩ≤ÁöÑ‰∏ìÈó®Áî®‰∫éÊúçÂä°Âô®‰∏äÁöÑËØÅ‰π¶„ÄÇ</p>
<img style="margin-left: 0;" src="/images/cloudflare-ssl.jpg">

<h3 id="Âä†ÂØÜÊµèËßàÂô®Âà∞CloudflareÁöÑCDN"><a href="#Âä†ÂØÜÊµèËßàÂô®Âà∞CloudflareÁöÑCDN" class="headerlink" title="Âä†ÂØÜÊµèËßàÂô®Âà∞CloudflareÁöÑCDN"></a>Âä†ÂØÜÊµèËßàÂô®Âà∞CloudflareÁöÑCDN</h3><p>Âä†ÂØÜËøô‰∏ÄÊÆµÊµÅÈáèÈùûÂ∏∏ÁÆÄÂçïÔºå‰Ω†Âè™ÈúÄË¶ÅÂú®‰∏äÈù¢ÁöÑSSLËÆæÁΩÆ‰∏≠ÔºåÈÄâÊã©Off‰ª•Â§ñÁöÑÂÖ∂‰ªñÈÄâÈ°πÔºåÂç≥ÂèØÂÆåÊàêËøô‰∏ÄÊÆµÁöÑSSLÂä†ÂØÜÔºåÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåÂÖçË¥πÁâàÊú¨ÁöÑCloudflareÊèê‰æõUniversal SSLËØÅ‰π¶ÔºåËøôÁ±ªËØÅ‰π¶ÁõÆÂâçÂü∫Êú¨Ë¢´Â§ßÂ§öÊï∞ÊµèËßàÂô®ÊâÄ‰ø°‰ªªÔºåÂè™ÊòØÂú®ËØÅ‰π¶ÂêçÁß∞‰∏ä‰Ω†ÁúãÂà∞ÁöÑÂèØËÉΩÊòØsni.cloudflare.comÁöÑÂüüÂêç„ÄÇÂ¶ÇÊûú‰Ω†Â∏åÊúõÊèêÂçáSSLËØÅ‰π¶ÁöÑÂÖºÂÆπÊÄßÔºåÈÇ£ÂèØ‰ª•Âú®SSL/TLS‰∏ãÁöÑEdge CertificatesËèúÂçï‰∏≠ÔºåÂçïÁã¨ËÆ¢Ë¥≠SSLËØÅ‰π¶ÔºåÁã¨Á´ãËØÅ‰π¶5ÁæéÈáë‰∏Ä‰∏™ÊúàÔºåËÆ¢Ë¥≠‰πãÂêéÔºåÊÇ®ÁöÑËØÅ‰π¶Â∞±‰ºöÂÉè‰∏ãÂõæ‰∏ÄÊ†∑Â±û‰∫éÁã¨Á´ãÂüüÂêçËØÅ‰π¶ÔºåÂÖºÂÆπÊÄß‰πü‰ºöÊõ¥Â•ΩÔºåÂΩìÁÑ∂ÔºåÂ¶ÇÊûú‰Ω†ÊúâÈí±Ôºà‰æãÂ¶ÇÊúâÁöÑ‰ºÅ‰∏öÈúÄË¶ÅOVÁîöËá≥EVËØÅ‰π¶ÔºâÔºåÈÇ£‰πà‰Ω†ÂèØ‰ª•Ë¥≠‰π∞Enterprise PlanÂêéÔºåÈÄâÊã©‰∏ä‰º†Ëá™Â∑±ÁöÑËØÅ‰π¶ÔºåÂè™ÊòØ‰ª∑Ê†º‰πàÂ∞±Ë¥µ‰∫Ü„ÄÇ</p>
<h3 id="Âä†ÂØÜCloudflare-CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®"><a href="#Âä†ÂØÜCloudflare-CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®" class="headerlink" title="Âä†ÂØÜCloudflare CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®"></a>Âä†ÂØÜCloudflare CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®</h3><p>Âä†ÂØÜËøô‰∏ÄÊÆµÊµÅÈáèÔºåÂ∞±ÈúÄË¶ÅÊÇ®Âú®Nginx‰∏äÂÅöHTTPSÁöÑÈÖçÁΩÆ‰∫ÜÔºå‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÔºåËÆ¢Ë¥≠‰∏Ä‰∏™Âèó‰ø°‰ªªÁöÑËØÅ‰π¶ÊÄªÊòØË¥πÈí±ÁöÑÔºåCloudflareÂª∫ËÆÆ‰Ω†‰ΩøÁî®‰ªñ‰ª¨ÁöÑOrigin CAÔºåËØÅ‰π¶Âë®Êúü15Âπ¥‰∏îÂÖçË¥πÔºå‰ΩøÁî®ÊñπÊ≥ï‰πüÈùûÂ∏∏ÁÆÄÂçïÔºåÈ¶ñÂÖàÂú®SSL/TLSÁöÑOrigin ServerËèúÂçï‰∏ãÔºåÈÄâÊã©‚ÄùCreate Certificate‚ÄúÔºåÂàõÂª∫‰∏ÄÂº†ËØÅ‰π¶ÔºåÈÄâÊã©CloudflareÂàõÂª∫CSRÂç≥ÂèØÔºåÂüüÂêçÂíåÊó∂Â∏∏‰∏ÄËà¨‰∏çÁî®Êõ¥ÊîπÔºåÂàõÂª∫‰πãÂêéÔºåÂç≥ÂèØ‰øùÂ≠òËØÅ‰π¶ÂíåÁßÅÈí•ÔºåNginx‰∏ÄËà¨‰ΩøÁî®pemÊ†ºÂºèÔºåÂõ†Ê≠§ÊääËØÅ‰π¶ÂíåÁßÅÈí•‰øùÂ≠òÊàêcert.pemÂíåkey.pem‰∏§‰∏™Êñá‰ª∂ÔºåÂπ∂‰∏ä‰º†Âà∞‰Ω†ÁöÑÊúçÂä°Âô®‰∏ä„ÄÇ<br>Á¨¨‰∫åÊ≠•ÔºåÊâìÂºÄ‰Ω†ÁöÑNginxÈÖçÁΩÆÔºåÂä†ÂÖ•Â¶Ç‰∏ãÁöÑËÆæÁΩÆ(ÂÅáËÆæ‰Ω†ÁöÑËØÅ‰π¶ÈÉΩÂÇ®Â≠òÂú®/usr/local/nginx/conf/ssl/ÁõÆÂΩï‰∏ã)</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">listen <span class="number">443</span> ssl http2;</span><br><span class="line">ssl_certificate    /usr/local/nginx/conf/ssl/cert.pem;</span><br><span class="line">ssl_certificate_key    /usr/local/nginx/conf/ssl/key.pem;</span><br></pre></td></tr></table></figure>
<p>‰øùÂ≠òÂπ∂ÈáçÂêØ‰Ω†ÁöÑNginxÊúçÂä°Âô®ÂêéÔºåÂú®SSL/TLS‰∏ãÈÄâÊã©Full(strict)Ê®°ÂºèÔºåÂç≥ÂèØÂÆåÊàêCloudflare CDNÊúçÂä°Âô®Âà∞‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®‰πãÈó¥ÁöÑÂä†ÂØÜ‰∫Ü„ÄÇ</p>
<h3 id="‰ΩøÁî®Authenticated-Origin-Pulls"><a href="#‰ΩøÁî®Authenticated-Origin-Pulls" class="headerlink" title="‰ΩøÁî®Authenticated Origin Pulls"></a>‰ΩøÁî®Authenticated Origin Pulls</h3><p>Authenticated Origin Pulls‰øùËØÅ‰∫ÜÂÆ¢Êà∑Á´ØÂú®Ëé∑Âèñ‰Ω†ÁΩëÁ´ôÊúçÂä°Âô®ÁöÑÂÜÖÂÆπÊó∂ÔºåÈúÄË¶ÅÊèê‰∫§ÂÆ¢Êà∑Á´ØËØÅ‰π¶È™åËØÅÔºåÂê¶Âàô‰∏çÂÖÅËÆ∏ËÆøÈóÆÔºåËøô‰∏™ËÆæÁΩÆÈÄöÂ∏∏ÂèØ‰ª•Ëøõ‰∏ÄÊ≠•Èò≤Ê≠¢‰Ω†ÁöÑÊúçÂä°Âô®Êï∞ÊçÆË¢´ÈùûCloudflare CDNÊúçÂä°Âô®ËÆøÈóÆÔºåÂΩì‰Ω†ÁöÑÊ∫êÁ´ôÂÖ®Á´ôÈááÁî®CDNÂêéÔºåÂèØ‰ª•ÊâìÂºÄËøô‰∏™ÈÄâÈ°πËøõ‰∏ÄÊ≠•ÊèêÂçáÂÆâÂÖ®ÊÄßÔºåÂú®ÊâìÂºÄ‰πãÂâçÔºåÈúÄË¶ÅÂú®Nginx‰∏äÂÅöÂ¶Ç‰∏ãÈÖçÁΩÆÔºö</p>
<ul>
<li>‰∏ãËΩΩOrigin PullËØÅ‰π¶Ôºö<a target="_blank" rel="noopener" href="https://support.cloudflare.com/hc/zh-cn/article_attachments/360044928032/origin-pull-ca.pem">https://support.cloudflare.com/hc/zh-cn/article_attachments/360044928032/origin-pull-ca.pem</a> ÔºåÂπ∂‰øùÂ≠ò‰∏∫origin-pull-ca.crt</li>
<li>Âú®NginxÁöÑÈÖçÁΩÆ‰∏≠ÔºåÂä†ÂÖ•Â¶Ç‰∏ã‰∏§Ë°åÈÖçÁΩÆ(ÂÅáËÆæ‰Ω†ÁöÑËØÅ‰π¶ÈÉΩÂÇ®Â≠òÂú®/usr/local/nginx/conf/ssl/ÁõÆÂΩï‰∏ã)<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssl_client_certificate /usr/local/nginx/conf/ssl/origin-pull-ca.crt;</span><br><span class="line">ssl_verify_client on;</span><br></pre></td></tr></table></figure></li>
<li>ÈáçÂêØNginxÔºåÊ≠§Êó∂ÂÜçËÆøÈóÆ‰Ω†ÁöÑÁΩëÁ´ôÔºå‰ºöÂá∫Áé∞400ÈîôËØØÔºåÈÇ£ËØ¥ÊòéNginxÂ∑≤ÁªèÈÖçÁΩÆÊàêÂäüÔºåËøô‰∏™Êó∂ÂÄôÂéªCloudflareÂêéÂè∞ÊâìÂºÄAuthenticated Origin PullsÁöÑÂºÄÂÖ≥ÔºåÂç≥ÂèØÂÆûÁé∞ÂØπÊ∫êÁ´ôÂÜÖÂÆπÁöÑËøõ‰∏ÄÊ≠•‰øùÊä§</li>
</ul>
<h3 id="ÁªàÊûÅÔºöÂ±èËîΩÈùûCloudflare-CDNÁöÑËÆøÈóÆ"><a href="#ÁªàÊûÅÔºöÂ±èËîΩÈùûCloudflare-CDNÁöÑËÆøÈóÆ" class="headerlink" title="ÁªàÊûÅÔºöÂ±èËîΩÈùûCloudflare CDNÁöÑËÆøÈóÆ"></a>ÁªàÊûÅÔºöÂ±èËîΩÈùûCloudflare CDNÁöÑËÆøÈóÆ</h3><p>ÂΩìÁÑ∂ÔºåÁªàÊûÅÁ≠ñÁï•ÔºåÊàë‰ª¨ÂèØ‰ª•ËÄÉËôëÂú®Nginx‰∏äÔºåÂ±èËîΩ‰∏ÄÂàáÈùûCloudflare CDNÊúçÂä°Âô®ÁöÑËÆøÈóÆÔºåÊàë‰ª¨ÂèØ‰ª•Âú® <a target="_blank" rel="noopener" href="https://www.cloudflare.com/ips/">https://www.cloudflare.com/ips/</a> ÁúãÂà∞ÊâÄÊúâCloudflare‰ΩøÁî®ÁöÑIPÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Êñ∞Âª∫‰∏Ä‰∏™Â¶Ç‰∏ãÁöÑcf.confÁöÑÈÖçÁΩÆÔºåÂ°´ÂÜôÂ¶Ç‰∏ãÂÜÖÂÆπÔºö</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># https://www.cloudflare.com/ips</span></span><br><span class="line"><span class="comment"># IPv4</span></span><br><span class="line">allow <span class="number">173.245</span>.<span class="number">48.0</span>/<span class="number">20</span>;</span><br><span class="line">allow <span class="number">103.21</span>.<span class="number">244.0</span>/<span class="number">22</span>;</span><br><span class="line">allow <span class="number">103.22</span>.<span class="number">200.0</span>/<span class="number">22</span>;</span><br><span class="line">allow <span class="number">103.31</span>.<span class="number">4.0</span>/<span class="number">22</span>;</span><br><span class="line">allow <span class="number">141.101</span>.<span class="number">64.0</span>/<span class="number">18</span>;</span><br><span class="line">allow <span class="number">108.162</span>.<span class="number">192.0</span>/<span class="number">18</span>;</span><br><span class="line">allow <span class="number">190.93</span>.<span class="number">240.0</span>/<span class="number">20</span>;</span><br><span class="line">allow <span class="number">188.114</span>.<span class="number">96.0</span>/<span class="number">20</span>;</span><br><span class="line">allow <span class="number">197.234</span>.<span class="number">240.0</span>/<span class="number">22</span>;</span><br><span class="line">allow <span class="number">198.41</span>.<span class="number">128.0</span>/<span class="number">17</span>;</span><br><span class="line">allow <span class="number">162.158</span>.<span class="number">0.0</span>/<span class="number">15</span>;</span><br><span class="line">allow <span class="number">104.16</span>.<span class="number">0.0</span>/<span class="number">12</span>;</span><br><span class="line">allow <span class="number">172.64</span>.<span class="number">0.0</span>/<span class="number">13</span>;</span><br><span class="line">allow <span class="number">131.0</span>.<span class="number">72.0</span>/<span class="number">22</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment"># IPv6</span></span><br><span class="line">allow <span class="number">2400</span>:cb00::/<span class="number">32</span>;</span><br><span class="line">allow <span class="number">2606</span>:<span class="number">4700</span>::/<span class="number">32</span>;</span><br><span class="line">allow <span class="number">2803</span>:f800::/<span class="number">32</span>;</span><br><span class="line">allow <span class="number">2405</span>:b500::/<span class="number">32</span>;</span><br><span class="line">allow <span class="number">2405</span>:<span class="number">8100</span>::/<span class="number">32</span>;</span><br><span class="line">allow <span class="number">2</span>a06:<span class="number">98</span>c0::/<span class="number">29</span>;</span><br><span class="line">allow <span class="number">2</span>c0f:f248::/<span class="number">32</span>;</span><br></pre></td></tr></table></figure>
<p>ÁÑ∂ÂêéÔºåÊàë‰ª¨Âú®NginxÁöÑÈÖçÁΩÆ‰∏ãÔºåÂ¢ûÂä†Â¶Ç‰∏ãÈÖçÁΩÆ</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">include</span> cf.conf;</span><br><span class="line">deny all;</span><br></pre></td></tr></table></figure>
<p>ËøôÊ†∑ÔºåÊâÄÊúâÈùûNginx IPËÆøÈóÆÈÉΩ‰ºöË¢´ÊãíÁªùÔºåËøôÊ†∑ÁöÑËØùÔºåÊï¥‰∏™Ê∫êÁ´ôÁöÑ‰øùÊä§Âü∫Êú¨Â∑≤ÁªèÂÅöÂà∞ÊØîËæÉÂÆåÂñÑÁöÑÁ®ãÂ∫¶‰∫Ü„ÄÇ</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://jayshao.com/cloudflare-nginx-ssl/">https://jayshao.com/cloudflare-nginx-ssl/</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://swoole.app/2020/08/22/javascript-code-plays-google-dinosaur-t-rex-game-automatically/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.png">
      <meta itemprop="name" content="lnmput@gmail.com">
      <meta itemprop="description" content="Ë¶Å‰πàÂ∫∏‰øóÔºåË¶Å‰πàÂ≠§Áã¨">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Êù®Â≠êÈ≥ÑÈ±º ‚óè Â§ñË¥∏Ëá™Âª∫Á´ô">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/22/javascript-code-plays-google-dinosaur-t-rex-game-automatically/" class="post-title-link" itemprop="url">javascript-code-plays-google-dinosaur-t-rex-game-automatically</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

      <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2020-08-22 09:56:17" itemprop="dateCreated datePublished" datetime="2020-08-22T09:56:17+09:00">2020-08-22</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
        <time title="‰øÆÊîπÊó∂Èó¥Ôºö2021-10-09 21:31:24" itemprop="dateModified" datetime="2021-10-09T21:31:24+09:00">2021-10-09</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote class="blockquote-center">
Èí±ÊòØÊ≤ªÁñóÊÉÖÁª™ÁöÑÊúÄ‰Ω≥ËâØËçØÔºåÁÆÄÂçïÔºåÁ≤óÊö¥ÔºåÂ•ΩÁî®„ÄÇ
</blockquote>

<h3 id="Step-1"><a href="#Step-1" class="headerlink" title="Step 1"></a>Step 1</h3><p> Open Google Chrome in your computer.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chrome:<span class="comment">//dino/</span></span><br></pre></td></tr></table></figure>

<h3 id="Step-2"><a href="#Step-2" class="headerlink" title="Step 2"></a>Step 2</h3><p>Now enter chrome://dino/ in the URL address bar and press ‚ÄúEnter‚Äù. Or simply disconnect your internet and try to visit any website. After performing this step you will see the Google Dinosaur/T-Rex Game.</p>
<h3 id="Step-3"><a href="#Step-3" class="headerlink" title="Step 3"></a>Step 3</h3><p>Press ‚ÄúF12‚Äù on your keyboard. It will open a new window/box on your screen. You need to click the ‚ÄúConsole‚Äù button/tab on this new window.</p>
<h3 id="Step-4"><a href="#Step-4" class="headerlink" title="Step 4"></a>Step 4</h3><p>It‚Äôs time to add some code here.</p>
<p>Just copy the code given below and paste it inside the ‚ÄúConsole‚Äù window. After that press ‚ÄúEnter‚Äù.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">keyDown</span>(<span class="params">e</span>)</span>&#123;Podium=&#123;&#125;;<span class="keyword">var</span> n=<span class="built_in">document</span>.createEvent(<span class="string">&quot;KeyboardEvent&quot;</span>);<span class="built_in">Object</span>.defineProperty(n,<span class="string">&quot;keyCode&quot;</span>,&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">this</span>.keyCodeVal&#125;&#125;),n.initKeyboardEvent?n.initKeyboardEvent(<span class="string">&quot;keydown&quot;</span>,!<span class="number">0</span>,!<span class="number">0</span>,<span class="built_in">document</span>.defaultView,e,e,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>,!<span class="number">1</span>,<span class="string">&quot;&quot;</span>):n.initKeyEvent(<span class="string">&quot;keydown&quot;</span>,!<span class="number">0</span>,!<span class="number">0</span>,<span class="built_in">document</span>.defaultView,!<span class="number">1</span>,!<span class="number">1</span>,!<span class="number">1</span>,!<span class="number">1</span>,e,<span class="number">0</span>),n.keyCodeVal=e,<span class="built_in">document</span>.body.dispatchEvent(n)&#125;<span class="function"><span class="keyword">function</span> <span class="title">keyUp</span>(<span class="params">e</span>)</span>&#123;Podium=&#123;&#125;;<span class="keyword">var</span> n=<span class="built_in">document</span>.createEvent(<span class="string">&quot;KeyboardEvent&quot;</span>);<span class="built_in">Object</span>.defineProperty(n,<span class="string">&quot;keyCode&quot;</span>,&#123;<span class="attr">get</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="keyword">return</span> <span class="built_in">this</span>.keyCodeVal&#125;&#125;),n.initKeyboardEvent?n.initKeyboardEvent(<span class="string">&quot;keyup&quot;</span>,!<span class="number">0</span>,!<span class="number">0</span>,<span class="built_in">document</span>.defaultView,e,e,<span class="string">&quot;&quot;</span>,<span class="string">&quot;&quot;</span>,!<span class="number">1</span>,<span class="string">&quot;&quot;</span>):n.initKeyEvent(<span class="string">&quot;keyup&quot;</span>,!<span class="number">0</span>,!<span class="number">0</span>,<span class="built_in">document</span>.defaultView,!<span class="number">1</span>,!<span class="number">1</span>,!<span class="number">1</span>,!<span class="number">1</span>,e,<span class="number">0</span>),n.keyCodeVal=e,<span class="built_in">document</span>.body.dispatchEvent(n)&#125;<span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;Runner.instance_.horizon.obstacles.length&gt;<span class="number">0</span>&amp;&amp;(Runner.instance_.horizon.obstacles[<span class="number">0</span>].xPos&lt;<span class="number">25</span>*Runner.instance_.currentSpeed-Runner.instance_.horizon.obstacles[<span class="number">0</span>].width/<span class="number">2</span>&amp;&amp;Runner.instance_.horizon.obstacles[<span class="number">0</span>].yPos&gt;<span class="number">75</span>&amp;&amp;(keyUp(<span class="number">40</span>),keyDown(<span class="number">38</span>)),Runner.instance_.horizon.obstacles[<span class="number">0</span>].xPos&lt;<span class="number">30</span>*Runner.instance_.currentSpeed-Runner.instance_.horizon.obstacles[<span class="number">0</span>].width/<span class="number">2</span>&amp;&amp;Runner.instance_.horizon.obstacles[<span class="number">0</span>].yPos&lt;=<span class="number">75</span>&amp;&amp;keyDown(<span class="number">40</span>))&#125;,<span class="number">5</span>);</span><br></pre></td></tr></table></figure>

<h3 id="Step-5"><a href="#Step-5" class="headerlink" title="Step 5"></a>Step 5</h3><p>Start the game by pressing ‚ÄúSpace‚Äù or ‚ÄúUp Arrow‚Äù key.</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.edopedia.com/blog/javascript-code-plays-google-dinosaur-t-rex-game-automatically/">https://www.edopedia.com/blog/javascript-code-plays-google-dinosaur-t-rex-game-automatically/</a></p>
</blockquote>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="‰∏ä‰∏ÄÈ°µ"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/40/">40</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="‰∏ã‰∏ÄÈ°µ"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">lnmput@gmail.com</span>
</div>
  <div class="powered-by">Áî± <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> Âº∫ÂäõÈ©±Âä®
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
